{"is_source_file": true, "format": "Python", "description": "Test suite for FastAPI backend API endpoints, covering authentication, patient CRUD operations, health check, and chatbot messaging.", "external_files": ["src/api/main.py"], "external_methods": ["fastapi.testclient.TestClient", "os.environ.pop"], "published": [], "classes": [], "methods": [{"name": "get_auth_header()", "description": "Performs login via API to retrieve an authorization header with Bearer token.", "scope": "", "scopeKind": ""}, {"name": "test_health_check()", "description": "Tests the health check endpoint for a healthy message and DB connection status.", "scope": "", "scopeKind": ""}, {"name": "test_auth_status_anonymous()", "description": "Verifies that anonymous access to auth status returns unauthenticated.", "scope": "", "scopeKind": ""}, {"name": "test_auth_login_and_status()", "description": "Logs in and verifies authenticated status includes correct username.", "scope": "", "scopeKind": ""}, {"name": "test_patients_crud_flow()", "description": "Performs a full CRUD flow on patient data, confirming creation, retrieval, update, deletion, and list count.", "scope": "", "scopeKind": ""}, {"name": "test_chatbot_send()", "description": "Sends a message to chatbot endpoint and verifies the reply structure and content.", "scope": "", "scopeKind": ""}], "calls": ["client.post", "client.get", "client.put", "client.delete", "resp.json()", "assert resp.status_code", "assert res.status_code"], "search-terms": ["test_api.py", "TestClient", "auth/login", "patients", "chatbot", "HealthCheck", "OAuth", "CRUD", "FastAPI testing"], "state": 2, "file_id": 5, "knowledge_revision": 12, "git_revision": "", "ctags": [{"_type": "tag", "name": "client", "path": "/home/kavia/workspace/code-generation/patient-360-dashboard-6122-6131/patient_portal_backend/tests/test_api.py", "pattern": "/^client = TestClient(app)$/", "language": "Python", "kind": "variable"}, {"_type": "tag", "name": "get_auth_header", "path": "/home/kavia/workspace/code-generation/patient-360-dashboard-6122-6131/patient_portal_backend/tests/test_api.py", "pattern": "/^def get_auth_header():$/", "language": "Python", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "test_auth_login_and_status", "path": "/home/kavia/workspace/code-generation/patient-360-dashboard-6122-6131/patient_portal_backend/tests/test_api.py", "pattern": "/^def test_auth_login_and_status():$/", "language": "Python", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "test_auth_status_anonymous", "path": "/home/kavia/workspace/code-generation/patient-360-dashboard-6122-6131/patient_portal_backend/tests/test_api.py", "pattern": "/^def test_auth_status_anonymous():$/", "language": "Python", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "test_chatbot_send", "path": "/home/kavia/workspace/code-generation/patient-360-dashboard-6122-6131/patient_portal_backend/tests/test_api.py", "pattern": "/^def test_chatbot_send():$/", "language": "Python", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "test_health_check", "path": "/home/kavia/workspace/code-generation/patient-360-dashboard-6122-6131/patient_portal_backend/tests/test_api.py", "pattern": "/^def test_health_check():$/", "language": "Python", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "test_patients_crud_flow", "path": "/home/kavia/workspace/code-generation/patient-360-dashboard-6122-6131/patient_portal_backend/tests/test_api.py", "pattern": "/^def test_patients_crud_flow():$/", "language": "Python", "kind": "function", "signature": "()"}], "hash": "7bfdc410e3ef89cf3f63189a304d279e", "format-version": 4, "code-base-name": "patient_portal_backend", "filename": "patient_portal_backend/tests/test_api.py", "fields": [{"name": "client = TestClient(app)", "scope": "", "scopeKind": "", "description": "unavailable"}], "revision_history": [{"12": ""}]}